const wordList = [
  "devashish",
  "killer",
  "murder",
  "kill",
  "murderer",
  "assassin",
  "homicide",
  "slayer",
  "violence",
  "aggression",
  "assault",
  "attack",
  "death",
  "execution",
  "blood",
  "homicidal",
  "danger",
  "fear",
  "dread",
  "terror",
  "chaos",
  "carnage",
  "bloodshed",
  "genocide",
  "dismember",
  "aggressor",
  "fight",
  "battle",
  "conflict",
  "rage",
  "hostility",
  "unrest",
  "crime",
  "tragedy",
  "malice",
  "villain",
  "dreadful",
  "dilemma",
  "foe",
  "nemesis",
  "retribution",
  "misdeed",
  "deception",
  "duplicity",
  "trickery",
  "predator",
  "haunt",
  "silent",
  "shadow",
  "specter",
  "cloak",
  "unforgiven",
  "agony",
  "terrorist",
  "villainy",
  "fearless",
  "chaotic",
  "revenant",
  "stalk",
  "bane",
  "agent",
  "shadowy",
  "ghost",
  "secrets",
  "mystery",
  "nightmare",
  "plague",
  "predicament",
  "murky",
  "uncertainty",
  "malign",
  "fang",
  "hunter",
  "hideout",
  "perversion",
  "deceit",
  "bloodline",
  "wail",
  "howl",
  "bargain",
  "sleepless",
  "hold",
  "pressure",
  "deformity",
  "aberration",
  "cruel",
  "torment",
  "whip",
  "silence",
  "fret",
  "moan",
  "yowl",
  "flaw",
  "wound",
  "excision",
  "sacrifice",
  "delusion",
  "blade",
  "mystic",
  "phantom",
  "pain",
  "wretched",
  "fallen",
  "abyss",
  "torn",
  "haunted",
  "maim",
  "remorse",
  "remnant",
  "sordid",
  "gloom",
  "mist",
  "frenetic",
  "primal",
  "solitude",
  "despair",
  "doom",
  "echo",
  "wave",
  "twilight",
  "shiver",
  "fissure",
  "crack",
  "split",
  "drain",
  "rivulet",
  "squall",
  "fracas",
  "turmoil",
  "havoc",
  "melancholy",
  "feast",
  "festivity",
  "famine",
  "discontent",
  "blight",
  "fracture",
  "reprisal",
  "recompense",
  "revenge",
  "malady",
  "menace",
  "debauchery",
  "debase",
  "criminal",
  "farce",
  "wretchedness",
  "grimace",
  "corruption",
  "nightshade",
  "life",
  "alive",
  "survive",
  "sleep",
  "wake",
  "dream",
  "threat",
  "risk",
  "chance",
  "love",
  "hate",
  "friend",
  "enemy",
  "bond",
  "strength",
  "weakness",
  "courage",
  "hero",
  "brave",
  "shield",
  "sword",
  "defend",
  "hurt",
  "bleed",
  "fall",
  "harm",
  "secret",
  "hidden",
  "spirit",
  "sorrow",
  "grief",
  "loss",
  "guilt",
  "shame",
  "anarchy",
  "fate",
  "destiny",
  "scream",
  "cry",
  "shout",
  "hush",
  "clamor",
  "sob",
  "mourn",
  "corpse",
  "cadaver",
  "shroud",
  "grave",
  "crypt",
  "tomb",
  "bone",
  "dust",
  "ash",
  "visions",
  "figment",
  "illusion",
  "trick",
  "fraud",
  "wicked",
  "heinous",
  "brutal",
  "cold",
  "creep",
  "evil",
  "creepy",
  "sinful",
  "poison",
  "venom",
  "disease",
  "sickness",
  "waste",
  "ruin",
  "shatter",
  "break",
  "destroy",
  "decimate",
  "annihilate",
  "obliterate",
  "eradicate",
  "exterminate",
  "devastate",
  "ravage",
  "conquer",
  "dominate",
  "suppress",
  "ensnare",
  "trap",
  "hide",
  "lurk",
  "ambush",
  "surprise",
  "encircle",
  "envelop",
  "surround",
  "circumvent",
  "block",
  "capture",
  "close",
  "outsmart",
  "surpass",
  "outwit",
  "prey",
  "fugitive",
  "chase",
  "run",
  "flight",
  "escape",
  "retreat",
  "flee",
  "away",
  "quiet",
  "sneak",
  "prowl",
  "intruder",
  "peril",
  "persecution",
  "victim",
  "target",
  "assailant",
  "culprit",
  "perpetrator",
  "schemer",
  "deceiver",
  "trickster",
  "master",
  "leader",
  "bandit",
  "looter",
  "plunderer",
  "treacherous",
  "rascal",
  "sinner",
  "evildoer",
  "thief",
  "outlaw",
  "rebel",
  "saboteur",
  "informant",
  "spy",
  "undercover",
  "covert",
  "unclear",
  "dim",
  "shady",
  "subtle",
  "cunning",
  "guess",
  "hunch",
  "instinct",
  "foresight",
  "whim",
  "impression",
  "inclination",
  "urge",
  "impulse",
  "stroke",
  "strike",
  "swing",
  "bite",
  "nip",
  "clip",
  "slice",
  "chop",
  "cut",
  "spear",
  "pierce",
  "slash",
  "stab",
  "shoot",
  "pull",
  "push",
  "tug",
  "grab",
  "clutch",
  "grasp",
  "crash",
  "clash",
  "scuffle",
  "rumble",
  "stir",
  "rattle",
  "jolt",
  "jerk",
  "shake",
  "spark",
  "flare",
  "flicker",
  "glow",
  "flick",
  "splash",
  "sparkle",
  "twinkle",
  "gleam",
  "shimmer",
  "hazard",
  "alarm",
  "warning",
  "scary",
  "terrifying",
  "shocking",
  "fatal",
  "slay",
  "trouble",
  "disaster",
  "wreckage",
  "calamity",
  "destruction",
  "crush",
  "smash",
  "stalker",
  "dark",
  "sore",
  "whimper",
  "yell",
  "whisper",
  "mischief",
  "plot",
  "scheme",
  "ruse",
  "conspiracy",
  "turbulence",
  "vengeance",
  "malicious",
  "ruthless",
  "savage",
  "diabolical",
  "scandal",
  "fearsome",
  "macabre",
  "occult",
  "sorcery",
  "hex",
  "spell",
  "voodoo",
  "witch",
  "curse",
  "haunting",
  "phantasm",
  "terrorism",
  "eclipse",
  "predation",
  "depths",
  "shattered",
  "requiem",
  "nightfall",
  "fright",
  "apparition",
  "fog",
  "nebula",
  "raven",
  "wing",
  "wilderness",
  "reckless",
  "risky",
  "bold",
  "daring",
  "gallant",
  "noble",
  "heroic",
  "mighty",
  "strong",
  "power",
  "dominance",
  "sovereign",
  "rule",
  "reign",
  "tyrant",
  "overthrow",
  "revolution",
  "defiance",
  "fury",
  "strife",
  "wrath",
  "spite",
  "resentment",
  "persistence",
  "adversity",
  "challenge",
  "struggle",
  "warrior",
  "combatant",
  "soldier",
  "brawl",
  "dispute",
  "argument",
  "debate",
  "confrontation",
  "bickering",
  "tussle",
  "skirmish",
  "outrage",
  "assassin",
  "murderer",
  "slayer",
  "executioner",
  "butcher",
  "hunter",
  "threat",
  "scourge",
  "reaper",
  "destroyer",
  "enforcer",
  "villain",
  "savage",
  "predator",
  "brute",
  "cruelty",
  "assault",
  "aggressor",
  "terminator",
  "devastator",
  "fiend",
  "anarchist",
  "bloodthirsty",
  "sinner",
  "tyrant",
  "maniac",
  "raider",
  "murder",
  "avenger",
  "destroy",
  "dread",
  "pursuer",
  "perpetrator",
  "stalker",
  "marauder",
  "inflictor",
  "punisher",
  "devourer",
  "demolisher",
  "slaughterer",
  "wrecker",
  "outlaw",
  "execution",
  "crusader",
  "vigilante",
  "murderous",
  "brutality",
  "perdition",
  "eradicator",
  "incinerator",
  "annihilator",
  "malefactor",
  "saboteur",
  "despot",
  "assassination",
  "death",
  "warlord",
  "carnage",
  "tragic",
  "slay",
  "expunge",
  "extirpator",
  "demise",
  "harbinger",
  "deathbed",
  "decimator",
  "mortal",
  "brutal",
  "mischief",
  "catastrophe",
  "obliterator",
  "destroying",
  "quell",
  "crush",
  "murderousness",
  "eradicate",
  "vicious",
  "coup",
  "conflict",
  "exterminate",
  "beheader",
  "carnivore",
  "horror",
  "defiler",
  "afflicter",
  "menace",
  "brawler",
  "smasher",
  "bounty",
  "assailant",
  "deceiver",
  "darkness",
  "killing",
  "assaulted",
  "smashed",
  "decay",
  "foe",
  "plunder",
  "carnal",
  "craven",
  "brave",
  "damnation",
  "sacrifice",
  "slayage",
  "anarchy",
  "assassins",
  "murderers",
  "slayers",
  "executioners",
  "butchers",
  "hunters",
  "villains",
  "cruel",
  "horrific",
  "fiends",
  "tyrants",
  "scourges",
  "predators",
  "destroyers",
  "crimes",
  "wrath",
  "perpetrators",
  "peril",
  "destruction",
  "evil",
  "exterminator",
  "atrocities",
  "blood",
  "abomination",
  "dreadful",
  "evilness",
  "malice",
  "malevolent",
  "persecutor",
  "dark",
  "deathly",
  "noxious",
  "extinction",
  "killing spree",
  "infamous",
  "fury",
  "bloodshed",
  "fatal",
  "murderous intent",
  "atrocious",
  "offender",
  "criminal",
  "bloodbath",
  "sack",
  "sabotage",
  "massacre",
  "hitman",
  "dastardly",
  "wretch",
  "subvert",
  "mourn",
  "sorrow",
  "anguish",
  "vile",
  "cunning",
  "rage",
  "exile",
  "dark deeds",
  "suffering",
  "catastrophic",
  "demonic",
  "enemies",
  "brutalize",
  "betrayal",
  "ruin",
  "betrayer",
  "perilous",
  "fiendish",
  "menacing",
  "doom",
  "torment",
  "grief",
  "diabolical",
  "dreaded",
  "predicament",
  "affliction",
  "dilemma",
  "miserable",
  "depraved",
  "calamity",
  "malicious",
  "tragedy",
  "malfeasance",
  "catastrophes",
  "destructive",
  "mournful",
  "disaster",
  "dismember",
  "devastation",
  "aftermath",
  "retribution",
  "agony",
  "downfall",
  "consequence",
  "chaos",
  "pain",
  "damage",
  "fear",
  "distress",
  "vengeance",
  "crisis",
  "instability",
  "disarray",
  "meltdown",
  "mortality",
  "incidents",
  "devastating",
  "malaise",
  "failure",
  "breakdown",
  "burden",
  "nightmare",
  "shock",
  "loss",
  "hostility",
  "painful",
  "chaotic",
  "unrest",
  "conflagration",
  "shockwaves",
  "disruption",
  "upheaval",
  "shatter",
  "strife",
  "turmoil",
  "anguished",
  "harrowing",
  "tormented",
  "grim",
  "melancholy",
  "disturbance",
  "dismay",
  "aggressiveness",
  "morbid",
  "oblivion",
  "misery",
  "animosity",
  "unravel",
  "overthrow",
  "grave",
  "plight",
  "disquiet",
  "treachery",
  "vulnerability",
  "shattered",
  "fatality",
  "collapse",
  "calamitous",
  "agitation",
  "disgrace",
  "malady",
  "adversity",
  "defeat",
  "disparity",
  "abandon",
  "shockwave",
  "battle",
  "sacrificing",
  "deadly",
  "insidious",
  "crushing",
  "repercussions",
  "grievance",
  "sufferer",
  "exiled",
  "uncertainty",
  "adversary",
  "cataclysm",
  "fearsome",
  "devastated",
  "disdain",
  "heartache",
  "ill-fated",
  "burdened",
  "doomed",
  "despairing",
  "estrangement",
  "fatalism",
  "trouble",
  "harshness",
  "foul",
  "malcontent",
  "misfortune",
  "hatred",
  "pestilence",
  "sorrowful",
  "torn",
  "darkened",
  "untamed",
  "threatening",
  "shattering",
  "fiery",
  "tremor",
  "victim",
  "blight",
  "blackened",
  "upend",
  "slaughter",
  "decrepit",
  "toxic",
  "shambles",
  "backlash",
  "morose",
  "damaging",
  "fragile",
  "curse",
  "vulnerable",
  "slashing",
  "stricken",
  "fractured",
  "pestilential",
  "harsh",
  "assail",
  "trauma",
  "warfare",
  "obliteration",
  "apocalypse",
  "wounded",
  "intimidation",
  "fatalistic",
  "violence",
  "gory",
  "haunting",
  "ravage",
  "obliterate",
  "abysmal",
  "savagery",
  "destitution",
  "dangerous",
  "battlefield",
  "maiming",
  "grievous",
  "gloom",
  "demoralizing",
  "paralysis",
  "desperation",
  "oppression",
  "traumatizing",
  "enslaved",
  "desolation",
  "ruthlessness",
  "unforgiving",
  "vengeful",
  "killings",
  "fearless",
  "vicarious",
  "shocking",
  "discomfort",
  "afflict",
  "atrocity",
  "wretchedness",
  "unraveling",
  "insult",
  "abandonment",
  "graveyard",
  "maimed",
  "dispossessed",
  "injured",
  "homicide",
  "victimized",
  "retributive",
  "extermination",
  "scapegoat",
  "brokenness",
  "victimization",
  "divisive",
  "disharmony",
  "confrontation",
  "fateful",
  "inhumanity",
  "despair",
  "broken",
  "chokehold",
  "beastly",
  "fearmongering",
  "alienation",
  "danger",
  "stigma",
  "troubled",
  "sacrificial",
  "fallout",
  "forbidden",
  "purgatory",
  "aversion",
  "abuse",
  "infliction",
  "oppressive",
  "abject",
  "mortifying",
  "maleficent",
  "tyranny",
  "hopeless",
  "persecuted",
  "malignant",
  "deadening",
  "persecution",
  "pursuit",
  "forsaken",
  "brink",
  "cataclysmic",
  "hostile",
  "tormenting",
  "ruinous",
  "wounds",
  "devilry",
  "severed",
  "intimidate",
  "cursed",
  "exploitation",
  "turbulent",
  "overwrought",
  "haunted",
  "monstrous",
  "foulness",
  "precarious",
  "hinder",
  "damning",
  "terminal",
  "carnivorous",
  "sadistic",
  "horrendous",
  "perpetration",
  "annihilation",
  "hazardous",
  "wretched",
  "malevolence",
  "hostage",
  "banshee",
  "grudge",
  "irrevocable",
  "scar",
  "condemnation",
  "detriment",
  "vanquished",
  "feud",
  "dispute",
  "nightfall",
  "turbulence",
  "dissent",
  "corruption",
  "desolate",
  "mortuary",
  "feared",
  "devilish",
  "remorse",
  "twilight",
  "unsettling",
  "horrify",
  "ruthless",
  "gloomy",
  "exploited",
  "depressed",
  "frustration",
  "betray",
  "brokenhearted",
  "malfunction",
  "chilling",
  "lament",
  "unfortunate",
  "uncertain",
  "demoralize",
  "regret",
  "deplorable",
  "forbidding",
  "pestilent",
  "scorned",
  "soul-crushing",
  "hazard",
  "afflicted",
  "irreparable",
  "hollow",
  "grimace",
  "scary",
  "crucifix",
  "unrelenting",
  "shiver",
  "downward",
  "ravenous",
  "nightshade",
  "grotesque",
  "paranoia",
  "sanguine",
  "traumatize",
  "lamenting",
  "bizarre",
  "macabre",
  "spiteful",
  "fearful",
  "desperate",
  "damned",
  "gruesome",
  "unwanted",
  "vanishing",
  "lost",
  "grip",
  "sadness",
  "bewildered",
  "blighted",
  "resigned",
  "futility",
  "belittled",
];

let guessCount = 0;
let hintCount = 2;
let guessedWords = [];

document.getElementById("guessForm").addEventListener("submit", function (e) {
  e.preventDefault();
  const wordInput = document.getElementById("wordInput").value.trim();
  if (wordInput === "") return;

  guessCount++;
  document.getElementById("guessCount").innerText = `Guesses: ${guessCount}`;
  const rank = getRank(wordInput);
  addGuessedWord(wordInput, rank);
  updateGuessList();
  document.getElementById("wordInput").value = "";
});

document.getElementById("hintBtn").addEventListener("click", function () {
  const lastGuess = guessedWords[guessedWords.length - 1];
  if (lastGuess && lastGuess.rank !== 99999999 && hintCount > 0) {
    // Check if last guess is valid
    const hintRank = Math.floor(lastGuess.rank / 2); // Calculate hint rank
    const hintWord = wordList[hintRank - 1]; // Adjust for zero-based index

    hintCount--;
    document.getElementById("hintBtn").innerText = `Hints: ${hintCount}`;
    if (hintWord) {
      addGuessedWord(hintWord, hintRank);
      updateGuessList();
    }
  }
});

function getRank(word) {
  const rank = wordList.indexOf(word) + 1;
  return rank || 99999999; // Return 99999999 for out of context
}

function addGuessedWord(word, rank) {
  // Check if the word has already been guessed
  const existingEntry = guessedWords.find((item) => item.word === word);

  if (!existingEntry) {
    guessedWords.push({ word, rank });
  }
}
function updateGuessList() {
  guessedWords.sort((a, b) => {
    if (typeof a.rank === "string" && typeof b.rank !== "string") return 1; // Push "Out of context" to the end
    if (typeof b.rank === "string" && typeof a.rank !== "string") return -1; // Push "Out of context" to the end
    return b.rank - a.rank; // Sort numeric ranks in descending order
  });

  const guessList = document.getElementById("guessList");
  const tempList = document.getElementById("tempList");
  guessList.innerHTML = "";

  guessedWords.forEach(({ word, rank }) => {
    const listItem = document.createElement("li");
    const currItem = document.getElementById("tempLi");
    if (rank === 99999999) {
      listItem.innerHTML = `<span>${word}</span><span class="rank">⊘</span>`;
      listItem.style.backgroundColor = "#888"; // Grey for "Out of context"
      currItem.innerHTML = `<span>${word}</span><span class="rank">⊘</span>`;
      currItem.style.backgroundColor = "#888"; // Grey for "Out of context"
    } else {
      const percentage = (rank / wordList.length) * 100;
      const color = getColorByPercentage(percentage);
      listItem.style.background = color;
      listItem.innerHTML = `<span>${word}</span><span class="rank">${rank}</span>`;
      currItem.style.background = color;
      currItem.innerHTML = `<span>${word}</span><span class="rank">${rank}</span>`;
    }

    guessList.insertBefore(listItem, guessList.firstChild);
  });
}

function getColorByPercentage(percentage) {
  if (percentage <= 25) {
    return "#00b38a"; // Green for 0-25%
  } else if (percentage > 25 && percentage <= 50) {
    return "#f2ac42"; // Orange for 25-50%
  } else {
    return "#ea324c"; // Red for 50-100%
  }
}
